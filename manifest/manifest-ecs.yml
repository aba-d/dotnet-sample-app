environments:
  dev:
    service:
      name: dotnet-sample-app
      container:
        port: 8080
        cpu: 256
        memory: 512
        environmentVariables:
          - name: ASPNETCORE_ENVIRONMENT
            value: Development
      aws:
        cluster: dev-cluster
        desiredCount: 1
        executionRoleName: ecsTaskExecutionRole
        ecrreponame: nonprodimagerepository
        alb:
          arn: arn:aws:elasticloadbalancing:us-east-2:707733857215:loadbalancer/app/myapp-bluegreen-alb/f93c1f7fc8a1b67d
          mainlisteners:
            arn: arn:aws:elasticloadbalancing:us-east-2:707733857215:listener/app/myapp-bluegreen-alb/f93c1f7fc8a1b67d/c2749df7b4391a8f
        networkConfiguration:
          assignPublicIp: ENABLED
          subnets:
            - subnet-05741c5e17cae42e3
            - subnet-08a31fa8b5dec1cfa
          securityGroups:
            - sg-063ac0f34f2c86baa
        targetGroups:
          blue: arn:aws:elasticloadbalancing:us-east-2:707733857215:targetgroup/dotnet-sample-blue-tg/e9b3d3830f76c2b8
          green: arn:aws:elasticloadbalancing:us-east-2:707733857215:targetgroup/dotnet-sample-green-tg/5ca12b509fdda74c

  qa:
    service:
      name: dotnet-sample-app
      container:
        port: 8080
        cpu: 256
        memory: 512
        environmentVariables:
          - name: ASPNETCORE_ENVIRONMENT
            value: QA
      aws:
        cluster: qa-cluster
        desiredCount: 1
        executionRoleName: ecsTaskExecutionRole
        ecrreponame: nonprodimagerepository
        alb:
          arn: arn:aws:elasticloadbalancing:us-east-2:707733857215:loadbalancer/app/qa-myapp-bluegreen-alb/f6769253796336df
          mainlisteners:
            arn: arn:aws:elasticloadbalancing:us-east-2:707733857215:listener/app/qa-myapp-bluegreen-alb/f6769253796336df/77d655804d63b1c3
        networkConfiguration:
          assignPublicIp: ENABLED
          subnets:
            - subnet-05741c5e17cae42e3
            - subnet-08a31fa8b5dec1cfa
          securityGroups:
            - sg-063ac0f34f2c86baa
        targetGroups:
          blue: arn:aws:elasticloadbalancing:us-east-2:707733857215:targetgroup/qa-dotnet-sample-blue-tg/9ff85ee9e04f6c6c
          green: arn:aws:elasticloadbalancing:us-east-2:707733857215:targetgroup/qa-dotnet-sample-green-tg/bd6af51950ac5d34

  prod:
    service:
      name: dotnet-sample-app
      container:
        port: 8080
        cpu: 256
        memory: 512
        environmentVariables:
          - name: ASPNETCORE_ENVIRONMENT
            value: Production
      aws:
        cluster: dev-cluster
        desiredCount: 1
        executionRoleName: ecsTaskExecutionRole
        ecrreponame: nonprodimagerepository
        alb:
          arn: arn:aws:elasticloadbalancing:us-east-2:707733857216:loadbalancer/app/myapp-bluegreen-alb/f93c1f7fc8a1b67d
          mainlisteners:
            arn: arn:aws:elasticloadbalancing:us-east-2:707733857216:listener/app/myapp-bluegreen-alb/f93c1f7fc8a1b67d/c2749df7b4391a8f
        networkConfiguration:
          assignPublicIp: ENABLED
          subnets:
            - subnet-05741c5e17cae42e3
            - subnet-08a31fa8b5dec1cfa
          securityGroups:
            - sg-063ac0f34f2c86baa
        targetGroups:
          blue: arn:aws:elasticloadbalancing:us-east-2:707733857216:targetgroup/dotnet-sample-blue-tg/e9b3d3830f76c2b8
          green: arn:aws:elasticloadbalancing:us-east-2:707733857216:targetgroup/dotnet-sample-green-tg/5ca12b509fdda74c
